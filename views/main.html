<div ng-include="'views/history.html'"></div>

<!-- <button class="btn btn-default" ng-click="details=null" ng-show="details">Close topic</button> -->
<div ng-include="'views/bits_details.html'" ng-show="details"></div>




<div class="panel panel-default">
  <div class="panel-heading">
    <h1 class="panel-title">Shares categories {{selection}}</h1>
  </div>
  <div class="panel-body">
    <div ng-repeat="groups in catGroups">
      <label class="checkbox-inline col-md-3" ng-repeat="cat in groups">
        <input type="checkbox" name="selectedCategories[]" value="{{cat.id}}" ng-model="cat.selected"><b>{{cat.label}}</b> ({{cat.nb}})
      </label>
    </div>
  </div>
</div>


<div class="row">

  <div class="col-md-9">

    <div ng-repeat="group in shares" class="row">
      <div ng-repeat="s in group" class="col-md-6">

        <div class="panel panel-primary">
          <div class="panel-heading">
            <h1 class="panel-title"><a href="#/bits/id{{s.id}}">{{s.title}}</a>
              <span ng-show="s.notable_type">({{s.notable_type}})</span>
              <!-- <button class="btn btn-sm" ng-click="setShareCategory(s.id)">set cat</button> -->
            </h1>
          </div>

          <div class="panel-body">
            <a ng-if="s.image_id" href="#/bits/id{{s.id}}">
              <img style="float:left; margin-right:20px;border:1px #555 solid; padding:2px;" src="https://usercontent.googleapis.com/freebase/v1/image/{{s.image_id}}?maxwidth=150&maxheight=200">
            </a>
            <div style="margin-bottom: 10px; font-style:italic;">
              "{{s.content}}"
            </div>
            <div style="color:#666;">
              {{s.author.name}}
            </div>
          </div>
        </div>

      </div>
    </div>

  </div>

  <div class="col-md-3">
    Last shares:
    <ul>
      <li ng-repeat="l in lastupdates track by $index"><a href="#/bits/id{{l.link}}">{{l.text}}</a> {{l.date | dateDelta}}</li>
    </ul>

  </div>
</div>
